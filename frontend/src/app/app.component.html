<div class="container">
    <header class="app-header">
        <div class="logo-area">
            <h1>DevOps<span>Control</span></h1>
            <p class="subtitle">Cloud Native Orchestrator</p>
        </div>
        <div class="status-badge" [ngClass]="{'status-online': backendStatus.status === 'UP'}">
            <span class="pulse"></span>
            Backend: {{ backendStatus.status }}
        </div>
    </header>

    <main class="dashboard">
        <!-- Add New Task Section -->
        <section class="add-task-card">
            <h2>New Deployment Task</h2>
            <div class="form-row">
                <input [(ngModel)]="newTask.title" placeholder="Task Title (e.g. Deploy Ingress)" type="text">
                <select [(ngModel)]="newTask.priority">
                    <option value="LOW">Low</option>
                    <option value="MEDIUM">Medium</option>
                    <option value="HIGH">High</option>
                </select>
                <button (click)="addTask()" class="btn-primary">Provision</button>
            </div>
        </section>

        <!-- Kanban Board -->
        <div class="kanban">
            <!-- TODO COLUMN -->
            <div class="column">
                <div class="column-header">
                    <h3>Backlog</h3>
                    <span class="count">{{ getTasksByStatus('TODO').length }}</span>
                </div>
                <div class="task-list">
                    <div *ngFor="let task of getTasksByStatus('TODO')" class="task-card">
                        <div class="task-priority" [attr.data-priority]="task.priority"></div>
                        <h4>{{ task.title }}</h4>
                        <div class="card-actions">
                            <button (click)="updateTaskStatus(task, 'IN_PROGRESS')" class="btn-icon">â–¶</button>
                            <button (click)="deleteTask(task.id!)" class="btn-icon btn-danger">ðŸ—‘</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- IN PROGRESS COLUMN -->
            <div class="column">
                <div class="column-header">
                    <h3>Running</h3>
                    <span class="count">{{ getTasksByStatus('IN_PROGRESS').length }}</span>
                </div>
                <div class="task-list">
                    <div *ngFor="let task of getTasksByStatus('IN_PROGRESS')" class="task-card running">
                        <div class="task-priority" [attr.data-priority]="task.priority"></div>
                        <h4>{{ task.title }}</h4>
                        <div class="card-actions">
                            <button (click)="updateTaskStatus(task, 'DONE')" class="btn-icon">âœ”</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- DONE COLUMN -->
            <div class="column">
                <div class="column-header">
                    <h3>Deployed</h3>
                    <span class="count">{{ getTasksByStatus('DONE').length }}</span>
                </div>
                <div class="task-list">
                    <div *ngFor="let task of getTasksByStatus('DONE')" class="task-card completed">
                        <div class="task-priority" [attr.data-priority]="task.priority"></div>
                        <h4>{{ task.title }}</h4>
                        <div class="card-actions">
                            <button (click)="deleteTask(task.id!)" class="btn-icon btn-danger">ðŸ—‘</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>